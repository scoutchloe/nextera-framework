[mysqld]
character-set-server=utf8mb4
collation-server=utf8mb4_unicode_ci
init_connect='SET NAMES utf8mb4'
skip-character-set-client-handshake
max_connections=1000
max_connect_errors=1000
table_open_cache=1024
max_allowed_packet=128M

# 二进制日志配置 - Canal数据同步必需
log-bin=mysql-bin
binlog-format=ROW
server-id=1
expire_logs_days=7
binlog_cache_size=1M
max_binlog_cache_size=2G
max_binlog_size=1G
# 注释掉binlog_do_db，让Canal来过滤表
# binlog_do_db=order_db_0,order_db_1,order_db_2,order_db_3,nextera
# 只忽略系统数据库
binlog_ignore_db=mysql,information_schema,performance_schema,sys

# GTID配置（可选，用于主从复制）
gtid_mode=ON
enforce_gtid_consistency=ON

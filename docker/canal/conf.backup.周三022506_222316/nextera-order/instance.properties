# Nextera Order实例配置 - Canal v1.1.8
#################################################
##########      nextera-order配置        #########
#################################################

# 数据库连接信息
canal.instance.master.address=mysql:3306
canal.instance.master.journal.name=
canal.instance.master.position=
canal.instance.master.timestamp=
canal.instance.master.gtid=

# 认证信息
canal.instance.dbUsername=root
canal.instance.dbPassword=nextera123
canal.instance.connectionCharset = UTF-8
canal.instance.enableDruid=false

# 连接池配置（v1.1.8优化）
canal.instance.connectionTimeout = 30000
canal.instance.receiveTimeout = 30000
canal.instance.maxReconnectTimes = 5
canal.instance.reconnectInterval = 5000

# 数据库表过滤配置 - 支持分库分表
# 监听 order_db_0-3 数据库的 t_order_0-3 和 t_order_item_0-3 分表
canal.instance.filter.regex=order_db_[0-3]\\.t_order_[0-3],order_db_[0-3]\\.t_order_item_[0-3]
canal.instance.filter.black.regex=

# RocketMQ配置
canal.mq.topic = nextera-order-sync

# binlog format/image check
canal.instance.binlog.format=ROW,STATEMENT,MIXED
canal.instance.binlog.image=FULL,MINIMAL,NOBLOB

# binlog ddl isolation
canal.instance.get.ddl.isolation = false

# memory store RingBuffer size, should be Math.pow(2,n)
# v1.1.8优化：提升缓冲区大小以提高性能
canal.instance.memory.buffer.size = 32768

# memory store RingBuffer used memory unit size , default 1kb
canal.instance.memory.buffer.memunit = 1024

# meory store gets mode used MEMSIZE or ITEMSIZE
canal.instance.memory.batch.mode = MEMSIZE
canal.instance.memory.rawEntry = true

# v1.1.8新增：批处理优化配置
canal.instance.memory.batch.size = 1000
canal.instance.memory.batch.timeout = 100

# detecing config
canal.instance.detecting.enable = false

# alarms config
canal.instance.alarms.enable = true
canal.instance.alarms.timeout = 60

# heart beat config
canal.instance.heartbeat.enable = true

# aliyun ak/sk , support rds/mq
canal.aliyun.accessKey =
canal.aliyun.secretKey =

# table meta tsdb info
canal.instance.tsdb.enable=true
canal.instance.tsdb.url=jdbc:mysql://mysql:3306/canal_tsdb
canal.instance.tsdb.dbUsername=root
canal.instance.tsdb.dbPassword=nextera123

# dump info
canal.instance.dump.timeout=120

# network config
canal.instance.network.receiveBufferSize = 16384
canal.instance.network.sendBufferSize = 16384
canal.instance.network.soTimeout = 30 